# Cloudflare Analytics Dashboard - 界面说明

## 🎨 新界面设计特点

参考 https://gh-proxy.com/analytics/ 的设计风格，我们重新设计了整个前端界面。

### 主要特点

#### 1. 现代化设计风格

- **渐变背景**：使用优雅的蓝紫色渐变背景
- **卡片式布局**：所有数据展示采用卡片式设计，具有阴影和圆角
- **毛玻璃效果**：加载和错误状态使用毛玻璃效果

#### 2. 关键指标展示

- **统计卡片**：顶部显示总请求数、总带宽、威胁数等关键指标
- **图标装饰**：每个指标配有相应的 emoji 图标
- **响应式网格**：自适应不同屏幕尺寸

#### 3. 缓存统计面板

- **双列布局**：分别显示请求缓存和带宽缓存统计
- **进度条可视化**：直观显示缓存率
- **详细数据**：显示已缓存和未缓存的具体数值和百分比

#### 4. 时间范围选择

- **三个选项**：单日数据、近 3 天、近 7 天
- **交互式按钮**：当前选中状态高亮显示
- **数据过滤**：根据选择的时间范围动态过滤图表数据

#### 5. 优化的图表展示

- **现代化图表**：使用更好的颜色方案和样式
- **详细信息**：每个域名图表包含快速统计信息
- **自定义 Tooltip**：鼠标悬停显示格式化的详细数据
- **多指标对比**：同时显示请求数、流量、缓存数据和威胁数

#### 6. 账户分组展示

- **清晰分层**：按账户分组展示所有 Zone 数据
- **半透明卡片**：账户标题使用半透明设计
- **统一风格**：保持整体设计的一致性

### 技术实现

#### 组件架构

```
App.jsx                 # 主应用入口
├── Dashboard.jsx       # 仪表盘主组件
├── StatsCards.jsx      # 统计卡片组件
├── CacheStats.jsx      # 缓存统计组件
└── LineChart.jsx       # 优化的图表组件
```

#### 样式特点

- **CSS 变量**：使用一致的色彩方案
- **Flexbox/Grid**：现代化布局技术
- **渐变和阴影**：增强视觉效果
- **响应式设计**：支持移动端和桌面端

#### 数据处理

- **智能过滤**：根据时间范围动态过滤数据
- **格式化显示**：自动格式化数字和字节单位
- **错误处理**：优雅处理数据缺失或格式错误

### 使用说明

#### 部署运行

```bash
# 构建镜像
docker build -t cf-analytics .

# 运行容器
docker run -p 80:80 \
  -e CF_TOKENS="your_token" \
  -e CF_ZONES="your_zone_id" \
  -e CF_DOMAINS="your_domain.com" \
  cf-analytics
```

#### 访问地址

- 主界面：http://localhost
- API 状态：http://localhost/api/status
- 数据文件：http://localhost/data/analytics.json

### 功能特色

1. **实时数据更新**：后端每分钟自动更新数据
2. **多账户支持**：支持同时监控多个 Cloudflare 账户
3. **缓存分析**：详细的缓存效率分析
4. **威胁监控**：安全威胁数据可视化
5. **响应式设计**：完美适配各种设备

### 对比原版改进

| 功能     | 原版     | 新版                |
| -------- | -------- | ------------------- |
| 界面风格 | 简单列表 | 现代卡片式          |
| 数据展示 | 基础图表 | 丰富的统计卡片      |
| 时间选择 | 无       | 支持 1 天/3 天/7 天 |
| 缓存统计 | 无       | 详细的缓存分析      |
| 响应式   | 基础     | 完全响应式          |
| 交互体验 | 静态     | 动态交互            |

这个新设计不仅在视觉上更加现代化，在功能上也更加完善，为用户提供了更好的数据分析体验。
